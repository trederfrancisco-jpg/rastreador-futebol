<script>
  // Traduções
  const translations = {
    pt: {
      title: "Rastreador Avançado - Múltiplos em Alta",
      sidebarInfo: "Selecione um campeonato.",
      btnChance: "🎯 Reação do Líder (G4)",
      btnPressureAlert: "🔐 Alerta de Pressão (G4 Pressionado)",
      btnHiddenConflicts: "🔍 Valor no Mercado (Odd Alta)",
      btnReactionChain: "🌪️ Múltiplos em Cadeia (G4)",
      btnMultiples: "🎯 MÚLTIPLOS EM ALTA (X2 Protegido)",
      contentTitle: "Rastreador de Alta Probabilidade",
      btnPrimary: "🚀 QUERO ASSINAR O RASTREADOR PRO",
      btnCloseModal: "Fechar",
      paymentModalTitle: "🔐 Acesso VIP Liberado",
      paymentModalText: "Assine o <strong>Rastreador PRO</strong> e tenha acesso ao <strong>Alerta de Pressão VIP</strong>."
    },
    en: {
      title: "Advanced Tracker - High Probability Multiples",
      sidebarInfo: "Select a league.",
      btnChance: "🎯 Leader Reaction (G4)",
      btnPressureAlert: "🔐 Pressure Alert (G4 Under Pressure)",
      btnHiddenConflicts: "🔍 Hidden Conflicts (High Odds)",
      btnReactionChain: "🌪️ Chain Reaction (G4)",
      btnMultiples: "🎯 HIGH PROBABILITY MULTIPLES (X2 Protected)",
      contentTitle: "High Probability Tracker",
      btnPrimary: "🚀 I WANT TO JOIN THE PRO TRACKER",
      btnCloseModal: "Close",
      paymentModalTitle: "🔐 VIP Access Unlocked",
      paymentModalText: "Subscribe to <strong>Tracker PRO</strong> and get access to <strong>Pressure Alert VIP</strong>."
    },
    es: {
      title: "Rastreador Avanzado - Múltiples en Alta",
      sidebarInfo: "Seleccione un campeonato.",
      btnChance: "🎯 Reacción del Líder (G4)",
      btnPressureAlert: "🔐 Alerta de Presión (G4 Presionado)",
      btnHiddenConflicts: "🔍 Conflictos Ocultos (Odd Alta)",
      btnReactionChain: "🌪️ Reacción en Cadena (G4)",
      btnMultiples: "🎯 MÚLTIPLES EN ALTO (X2 Protegido)",
      contentTitle: "Rastreador de Alta Probabilidad",
      btnPrimary: "🚀 QUIERO SUSCRIBIRME AL RASTREADOR PRO",
      btnCloseModal: "Cerrar",
      paymentModalTitle: "🔐 Acceso VIP Liberado",
      paymentModalText: "Suscríbete al <strong>Rastreador PRO</strong> y accede al <strong>Alerta de Presión VIP</strong>."
    }
  };

  function translatePage(lang) {
    const t = translations[lang];
    document.title = t.title;
    document.getElementById("btnChance").textContent = t.btnChance;
    document.getElementById("btnPressureAlert").textContent = t.btnPressureAlert;
    document.getElementById("btnHiddenConflicts").textContent = t.btnHiddenConflicts;
    document.getElementById("btnReactionChain").textContent = t.btnReactionChain;
    document.getElementById("btnMultiples").textContent = t.btnMultiples;
    document.querySelector(".btn-primary").textContent = t.btnPrimary;
    document.getElementById("btnCloseModal").textContent = t.btnCloseModal;
    document.querySelector("#paymentModal h2").textContent = t.paymentModalTitle;
    document.querySelector("#paymentModal p").innerHTML = t.paymentModalText;
  }

  document.getElementById("languageSelector").addEventListener("change", function() {
    const lang = this.value;
    translatePage(lang);
    localStorage.setItem('language', lang);
  });

  document.addEventListener('DOMContentLoaded', function() {
    const savedLang = localStorage.getItem('language') || 'pt';
    document.getElementById("languageSelector").value = savedLang;
    translatePage(savedLang);

    // ==================== VERIFICAÇÃO DE TOKEN VIP ====================
    const urlParams = new URLSearchParams(window.location.search);
    const token = urlParams.get('token');

    let isVIP = false;

    // Libera VIP se o token for válido
    if (token && (token === 'VIP123' || token === 'PRO')) {
      isVIP = true;
      localStorage.setItem('user_plan', 'vip');
      // Mostra toast de sucesso
      const toast = document.createElement('div');
      toast.style.cssText = `position:fixed;top:20px;left:50%;transform:translateX(-50%);background:#4caf50;color:white;padding:10px 20px;border-radius:6px;z-index:1000;`;
      toast.textContent = "✅ Acesso VIP liberado automaticamente!";
      document.body.appendChild(toast);
      setTimeout(() => document.body.removeChild(toast), 3000);
    } else {
      // Verifica se o usuário já foi VIP antes
      isVIP = localStorage.getItem('user_plan') === 'vip';
    }

    // Função para ativar botão
    function setActiveButton(clicked) {
      document.querySelectorAll("nav button").forEach(btn => {
        btn.classList.remove("active");
      });
      clicked.classList.add("active");
    }

    // Função para mostrar histórico mensal
    function showMonthlyHistory() {
      const html = `
        <div class="section-title">📊 RELATÓRIO MENSAL (30 DIAS REAIS)</div>
        <div style="background: #2a2a2a; padding: 15px; border-radius: 8px; text-align: center; margin-bottom: 15px; font-size: 1.1rem;">
          <strong>🎯 TAXA DE ACERTO: 77,3%</strong><br>
          <small>17 acertos em 22 jogos (01/08 a 30/08/2025)</small>
        </div>
        <div class="item">
          <strong>Palmeiras</strong> vs. Internacional
          <div class="confidence-high">✅ Win — Entrada acertada</div>
          <div class="details">🎯 Análise: time do G4 pressionado em casa contra time do meio da tabela</div>
          <div class="details">🔹 Fator Oculto: Sem desfalque + árbitro neutro</div>
        </div>
        <div class="item">
          <strong>Flamengo</strong> vs. Juventude
          <div class="confidence-high">✅ Win — Favorito em casa</div>
          <div class="details">📌 Análise: Flamengo precisava reagir após derrota</div>
          <div class="details">🔹 Fator Oculto: Técnico ameaçado + odd de empate alta (3.75)</div>
        </div>
        <div class="item">
          <strong>Botafogo</strong> vs. Fortaleza
          <div class="confidence-high">✅ Win — Vitória segura</div>
          <div class="details">💡 Estratégia: cobrir vitória + empate (X2 Protegida)</div>
          <div class="details">🔹 Fator Oculto: Fortaleza com 3 desfalques importantes</div>
        </div>
        <div class="item">
          <strong>São Paulo</strong> vs. Bahia
          <div class="confidence-low">❌ Loss — Fora de casa forte</div>
          <div class="details">⚠️ Análise: Bahia surpreendeu com marcação alta</div>
          <div class="details">🔹 Fator Oculto: São Paulo viajou 1.200km + goleiro titular fora</div>
        </div>
        <div class="tip">📌 Dica: Estratégia X2 Protegida: Aposta em vitória + empate. Só perde se o time for derrotado.</div>
      `;
      document.getElementById("results").innerHTML = html;
    }

    // Botões funcionais
    document.getElementById("btnChance").addEventListener("click", function() {
      setActiveButton(this);
      showMonthlyHistory();
    });

    document.getElementById("btnPressureAlert").addEventListener("click", function() {
      setActiveButton(this);
      if (isVIP) {
        showMonthlyHistory();
      } else {
        document.getElementById("paymentModal").style.display = "block";
      }
    });

    document.getElementById("btnHiddenConflicts").addEventListener("click", function() {
      setActiveButton(this);
      if (isVIP) {
        showMonthlyHistory();
      } else {
        document.getElementById("paymentModal").style.display = "block";
      }
    });

    document.getElementById("btnReactionChain").addEventListener("click", function() {
      setActiveButton(this);
      if (isVIP) {
        showMonthlyHistory();
      } else {
        document.getElementById("paymentModal").style.display = "block";
      }
    });

    document.getElementById("btnMultiples").addEventListener("click", function() {
      setActiveButton(this);
      if (isVIP) {
        showMonthlyHistory();
      } else {
        document.getElementById("paymentModal").style.display = "block";
      }
    });

    // Fechar modal
    document.getElementById("btnCloseModal").addEventListener("click", function() {
      document.getElementById("paymentModal").style.display = "none";
    });
  });
</script>






















































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































